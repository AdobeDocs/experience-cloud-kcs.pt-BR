---
title: Não é possível usar/consultar em nomes de arquivos de saída de delivery de DM
description: Descrição
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign,Campaign Standard
keywords: KCS - Não é possível usar/consultar nomes de arquivo de saída de delivery de DM
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 3:35:40 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 3:36:01 PM
version-number: 2
article-number: KA-16234
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=43c42ad4-76d0-ec11-a7b5-00224809c556
exl-id: e45ff2b0-8e36-4fa2-8270-6a6ddaa0b7aa
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '319'
ht-degree: 1%

---

# Não é possível usar/consultar em nomes de arquivos de saída de delivery de DM

## Descrição


Um de meus clientes recebe o seguinte relatório, pois eles têm alguns requisitos de negócios diferentes.

No campo mdata , queremos extrair o nome outputFile — consulte attachment(mData_outputFile.png) para o local, armazenado em outputFile=&quot; &quot;. Queremos saber a melhor maneira de transformar esse campo de tipo de dados xml em um campo enriquecido no workflow da campanha para que possamos anexar em nossa tabela de histórico de promoção para armazenar todos os nomes de arquivo de saída.

Primeiro, tentei contactar os meus colegas, mas infelizmente eles não têm muita informação sobre a questão acima. Desde então, sabemos que os dados são um campo XML e não um campo de banco de dados para query. Mas, para além disso, existe algum método para alcançar este cenário?


## Resolução


Use uma atividade de extração de arquivo para extrair os dados do delivery no formato XML.



Isso garantirá que os dados também sejam extraídos.



Em seguida, você pode usar uma atividade de carregamento de arquivo ou uma atividade de código JS para analisar esse arquivo e obter seus dados.



OR



use uma atividade de código JS e queryDef para buscar dados do seu delivery e, em seguida, analisar o xml.



Armazene dados em uma variável de instância para carregar em transição





O cliente tinha uma consulta de acompanhamento que era como abaixo —

&quot;Estamos tentando usar o método queryDef contra os dados, que conseguimos escrever. Para o método parse, qual é a abordagem recomendada para ele?&quot;



<b>RESPOSTA —</b>

Sua solicitação será como



*queryDef operation=&quot;select&quot; schema=&quot;nms:delivery&quot;*

*select*

*node expr=&quot;@id&quot;/*

*node expr=&quot;output/@fileName&quot; label=&quot;Output file&quot;/*

*/selecionar*

*sysFilter*

*condição expr=&quot;@isModel = 0&quot;/*

*/sysFilter*

*orderBy*

*node expr=&quot;@lastModified&quot; sortDesc=&quot;true&quot;/*

*/orderBy*

*/queryDef*



E vai voltar

*delivery-collection*

*delivery id=&quot;11878415&quot;*

*output filename=&quot;abc.txt&quot;*

*/output*

*/delivery*

*/delivery-collection*
