---
title: Não é possível usar/consultar em nomes de arquivos de saída de delivery de DM
description: Descrição
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign,Campaign Standard
keywords: KCS - Não é possível usar/consultar nomes de arquivo de saída de delivery de DM
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 3:35:40 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 3:36:01 PM
version-number: 2
article-number: KA-16234
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=43c42ad4-76d0-ec11-a7b5-00224809c556
exl-id: e45ff2b0-8e36-4fa2-8270-6a6ddaa0b7aa
source-git-commit: 6a23faae10364181be7dedc2f408f2ad8d8be3c9
workflow-type: tm+mt
source-wordcount: '273'
ht-degree: 1%

---

# Não é possível usar/consultar em nomes de arquivos de saída de delivery de DM

## Descrição


Um de meus clientes recebe o seguinte relatório, pois eles têm alguns requisitos de negócios diferentes.

De `mdata` , queremos extrair o nome outputFile — consulte attachment(mData_outputFile.png) para localização, armazenado em `outputFile=" "`. Queremos saber a melhor maneira de transformar esse campo de tipo de dados xml em um campo enriquecido dentro do [!DNL Campaign] para que possamos anexar em nossa tabela de histórico de promoção para armazenar todos os nomes de arquivo de saída.

Primeiro, tentei contactar os meus colegas, mas infelizmente eles não têm muita informação sobre a questão acima. Desde então, sabemos que `mdata` é um campo XML e não um campo DB para consulta. Mas, para além disso, existe algum método para alcançar este cenário?


## Resolução


Use um [!UICONTROL Extração de arquivo] para extrair os dados do delivery no formato XML.



Isso garantirá que os dados também sejam extraídos.



Em seguida, você pode usar um [!UICONTROL Carregar arquivo] atividade ou [!UICONTROL Código JS] para analisar esse arquivo e obter seus dados.



OR



use um [!UICONTROL Código JS] atividade e `queryDef` para buscar dados do seu delivery e, em seguida, analisar o xml.



Armazene dados em uma variável de instância para carregar em transição





O cliente tinha uma consulta de acompanhamento que era como abaixo —

&quot;Estamos tentando usar o método de `queryDef` contra os dados, que nós conseguimos escrever. Para o método parse, qual é a abordagem recomendada para ele?&quot;



<b>RESPOSTA —</b>

Sua solicitação será como


```
*queryDef operation="select" schema="nms:delivery"*

*select*

*node expr="@id"/*

*node expr="output/@fileName" label="Output file"/*

*/select*

*sysFilter*

*condition expr="@isModel = 0"/*

*/sysFilter*

*orderBy*

*node expr="@lastModified" sortDesc="true"/*

*/orderBy*

*/queryDef*
```


E vai voltar

```
*delivery-collection*

*delivery id="11878415"*

*output filename=”abc.txt”*

*/output*

*/delivery*

*/delivery-collection*
```
