---
title: Não é possível usar/consultar em relação aos nomes de arquivo de saída da entrega DM
description: Descrição
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign,Campaign Standard
keywords: KCS - Não é possível usar/consultar em relação aos nomes de arquivo de saída da entrega DM
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Amol Mahajan
article-created-date: 11/2/2022 11:03:30 AM
article-published-by: Amol Mahajan
article-published-date: 11/2/2022 12:24:11 PM
version-number: 4
article-number: KA-16234
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=157529f9-9d5a-ed11-9561-6045bd006a22
exl-id: e45ff2b0-8e36-4fa2-8270-6a6ddaa0b7aa
source-git-commit: 4702b69f883128bf305ec64f012ef01903f3f582
workflow-type: tm+mt
source-wordcount: '303'
ht-degree: 2%

---

# Não é possível usar/consultar em relação aos nomes de arquivo de saída da entrega DM

## Descrição

<b>Ambiente</b>
- Campaign Classic
- Campaign
- Campaign Standard

<b>Problema/Sintomas</b>
Um dos clientes relatou o seguinte problema:

No campo mdata, queremos extrair o nome do outputFile — consulte o anexo (mData_outputFile.png) do local, armazenado em outputFile=&quot; &quot;. Queremos saber a melhor maneira de transformar isso *Dados XML* Digite o campo a ser passado como um campo enriquecido dentro do fluxo de trabalho da campanha. Para que possamos anexar à tabela de histórico de promoções para armazenar todos os nomes de arquivos de saída.

Como sabemos que mdata é um campo XML e não um campo DB para consultar sobre ele. Mas há algum método para chegar a esse cenário?


## Resolução


Podemos tentar resolver esse problema de duas maneiras:

1. Use uma atividade de extração de arquivo para extrair os dados do delivery em *XML* formato. Tal assegurará que as `mdata` também é extraído. Depois disso, você poderá usar uma atividade de carregamento de arquivo ou JavaScript (*JS code)* atividade para analisar esse arquivo e obter seus dados.
2. Use um *Código JS* atividade e `queryDef` para buscar `mdata` do seu delivery e, em seguida, analise o XML. Armazenar dados em um <b>variável de instância</b> para carregar na transição


O cliente tinha uma consulta de acompanhamento que era a seguinte:

Estamos tentando usar o método de `queryDef` contra `mdata`, que conseguimos escrever. Para o método de análise, qual é a abordagem recomendada?

Resposta:

Sua solicitação será como:

*queryDef operation=&quot;select&quot; schema=&quot;nms:delivery&quot;*

*selecionar*

*node expr=&quot;@id&quot;/*

*node expr=&quot;output/@fileName&quot; label=&quot;Output file&quot;/*

*/select*

*sysFilter*

*condition expr=&quot;@isModel = 0&quot;/*

*/sysFilter*

*orderBy*

*node expr=&quot;@lastModified&quot; sortDesc=&quot;true&quot;/*

*/orderBy*

*/queryDef*



E retornará:

*delivery-collection*

*delivery id=&quot;11878415&quot;*

*output filename=&quot;abc.txt&quot;*

*/output*

*/delivery*

*/delivery-collection*
