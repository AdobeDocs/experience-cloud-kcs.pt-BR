---
title: ACC - Problema de carregamento de dados de associação externa
description: Descrição
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign
keywords: KCS - ACC - Problema de carregamento de dados de associação externa
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 2:11:09 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 2:11:34 PM
version-number: 2
article-number: KA-16351
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=8f266a08-6bd0-ec11-a7b5-00224809c556
exl-id: 08e00479-988e-47cb-93d0-c718d06acc52
source-git-commit: 14265e80c022cc632bdca8d17f84834e267c42d3
workflow-type: tm+mt
source-wordcount: '383'
ht-degree: 0%

---

# [ACC] - Problema de carregamento de dados de associação externa

## Descrição

Um dos meus clientes ACC está enfrentando um problema com associações externas SQL e deseja verificar se esse é um comportamento esperado ou é um bug ACC.

Conforme o cliente, há um schema de dados nms:delivery estendido por `gsk:deliveryAnalytics` no modelo de dados. Entre outros, eles adicionaram quatro links relacionados à marca para `gsk:deliveryAnalyticsBrandMeta` schema de dados.

Os nomes dos links são: `metaBrandLink01`, `metaBrandLink02`, `metaBrandLink03`, `metaBrandLink04`. Todas são associações externas (`externalJoin="true"`).

Esses links funcionam muito bem quando o operador preenche `@brand01-@brand04` atributos manualmente no delivery único. Mas o problema ocorre quando o delivery é criado com base em um template do delivery (por exemplo, na atividade de delivery recorrente). Nesse caso, todos `@brand01-@brand04` Os campos ficam vazios no delivery recém-executado, embora tenham sido preenchidos no template do delivery. Não é um problema de formulário de entrada, pois, por cliente, eles já verificaram isso. Eles acreditam que seja um problema de execução de SQL durante o carregamento do template do delivery e a inserção de seus dados em um novo delivery. Eles o observaram no código SQL. Se mudarem o tipo de junção para a `externalJoin="false"`, eles podem ver que o código contém referências de link apropriadas:

Na parte SELECIONAR:

```
... D30.sBrand, D30.iDeliveryAnalyticsBrandMetaId, ...
```

Na parte FROM do código:

```
FROM NmsDelivery D0 ...
JOIN GskDeliveryAnalyticsBrandMeta D30 ON (D30.sBrand = D0.sBrand01)
...
```

Mas se eles estiverem usando `externalJoin="true"`, nada disso faz parte do código SQL gerado pela atividade recorrente de delivery. Como resultado, os campos da marca não são preenchidos no delivery recém-criado.

O cliente deseja saber por que o código SQL não inclui dados de associação externos quando um novo delivery é criado a partir do template. É um bug de CA ou é um comportamento de CA esperado.

## Resolução

De acordo com nossos especialistas, a associação externa não deve ter qualquer impacto.

O que você deseja fazer no caso de cópia ou recorrente. Deseja criar um novo registro na extensão da tabela ou apenas fazer referência à mesma linha?

No caso de cópia, talvez você possa tentar reproduzir com o atributo *`integrity`.* Tente usar *`owncopy`*

No segundo caso, isso deve ser apenas uma cópia da chave externa, já que copiamos qualquer atributo. Verifique o atributo *`defOnDuplicate`* para sua chave externa.

Em seguida, tente criar uma cópia do delivery ou do template do delivery da interface do usuário e verificar se as chaves externas/do atributo foram copiadas. Se funcionar, o delivery recorrente também deverá funcionar.
