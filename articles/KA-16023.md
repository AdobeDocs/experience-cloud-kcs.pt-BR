---
title: Logon e logoff do SDK AEP do ACC
description: Descrição
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign
keywords: KCS - Logon-logoff de SDK AEP ACC
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Tanay Sharma .
article-created-date: 10/11/2022 10:57:50 AM
article-published-by: Tanay Sharma .
article-published-date: 10/11/2022 11:16:54 AM
version-number: 3
article-number: KA-16023
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=2db7de86-5349-ed11-bba2-0022480868ff
exl-id: 0dd025da-8632-42e2-914e-b2aa72c33536
source-git-commit: 4702b69f883128bf305ec64f012ef01903f3f582
workflow-type: tm+mt
source-wordcount: '293'
ht-degree: 2%

---

# Logon e logoff do SDK AEP do ACC

## Descrição

<b>Ambiente</b>
- Campaign Classic
- Campaign



<b>Problema/Sintomas</b>
Em geral, integramos o *AEP* ou *Neolane SDK* para executar o `setPushIdenfitier` ou `registerDevice` método para registrar o token na campanha e reconciliá-lo em um recipient usando uma clientId.
 
Se um usuário quiser enviar notificações por push somente a assinantes vinculados a um perfil. Nesse caso, isso deve ser facilmente realizável usando perfis como dimensões de filtragem em seus workflows. Mas há um caso de uso.

Um usuário pode fazer logoff e depois parar de receber notificações. E mais tarde, eles poderiam fazer login com uma conta diferente no mesmo celular. Acreditamos que o `registrationToken` (no Android, pelo menos) é válido a partir da instalação do aplicativo.
 
Não encontramos nenhuma referência de API no *AEP SDK* para excluir ou invalidar o `registrationToken`Então, como podemos obter esse caso de uso? Não tenho certeza se podemos emulá-lo invocando o `setPushIdentifier` ou `registerDevice` novamente ou se tiver de ser tratado com o `AuthenticationState` no código mobileApp.
 
Como deve ser feito?


## Resolução


Esse cenário é comum até certo ponto. Durante o logoff, eles devem enviar a mesma API usada para registrar o *ID do cliente*, mas esvaziando-o, o campo `userKey` estará vazio e o link para o recipient será cortado. Isso pode ser feito no logon com um `userKey` preenchido com um *ID do cliente* vinculado ao Destinatário/Perfil. Após o logout, a variável `Userkey` será esvaziada.

O aplicativo móvel precisa fazer uma chamada para ACC no logout/logon do usuário para atualizar essas informações no ACC. Podemos ter um campo booleano personalizado que usamos como sinalizador para identificar se um assinante de aplicativo está conectado ou desconectado.
