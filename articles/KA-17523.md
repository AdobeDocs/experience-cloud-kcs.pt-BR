---
title: "Como o serviço de ID do Marketing Cloud mantém MCIDs consistentes entre domínios?"
description: Descrição
solution: Experience Cloud
product: Experience Cloud
applies-to: "Experience Cloud"
keywords: "KCS, MCID, entre domínios, cookies, amcv, demdex, uuid"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "5/9/2023 6:52:26 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "5/9/2023 7:30:09 PM"
version-number: 3
article-number: KA-17523
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=7a18a2a2-9aee-ed11-8849-6045bd006704"
source-git-commit: ab880a04bcb7fb93e6336be53e039133458d8c00
workflow-type: tm+mt
source-wordcount: '359'
ht-degree: 2%

---

# Como o serviço de ID do Marketing Cloud mantém MCIDs consistentes entre domínios?

## Descrição {#description}


<b>Ambiente</b>

Adobe Experience Cloud

<b>Problema/Sintomas</b>

Como o serviço de ID do Marketing Cloud mantém uma ID do Marketing Cloud consistente entre domínios em um navegador que aceita cookies de terceiros?


## Resolução {#resolution}

Etapas para resolver<br>
1. O usuário visita um site pertencente à My Company Inc. pela primeira vez.
2. O `VisitorAPI.js` O arquivo carrega e verifica se há um cookie AMCV no domínio atual (SiteA.com). Não existe nenhum cookie AMCV no domínio atual, portanto `VisitorAPI.js` verifica se um `demdex.net` existe. Não o faz.
3. Como nenhum cookie existe, uma solicitação de rede é feita para `dpm.demdex.net` com sua ID da organização do Marketing Cloud (também conhecida como uma ID da organização IMS). Nesse caso, 1234@AdobeOrg é enviado com a solicitação.
4. O `demdex.net` O servidor recebe a solicitação e gera um UUID. Em seguida, ele usa a UUID e a IMS org ID (1234) para gerar o valor MID.
5. O servidor responde à solicitação da página com a MID e a UUID.
6. O `VisitorAPI.js` A biblioteca grava a MID em um cookie AMCV no navegador. Como parte da resposta, o servidor demdex também grava a UUID em um cookie. O cookie AMCV é gravado no domínio atual (SiteA.com) e o cookie demdex é gravado no `demdex.net` domínio.
7. O código da página é executado e os beacons da solução do Adobe são acionados.
8. O usuário navega até SiteB.com.
9. `VisitorAPI.js` verifica se há um cookie AMCV no domínio atual (SiteB.com). Não existe nenhum cookie AMCV neste domínio, portanto `VisitorAPI.js` verifica se um `demdex.net` existe. Ele existe, portanto, o valor é recuperado.
10. É feita uma solicitação de rede para `dpm.demdex.net` com a IMS org ID (1234) e o valor UUID (ABCDE).
11. O servidor demdex gera um valor MID usando a UUID (ABCDE) e a IMS org ID (1234), que foram passadas na solicitação.
12. O servidor demdex responde à solicitação com o valor MID (ABC1234).
13. O `VisitorAPI.js` A biblioteca grava a MID (ABC1234) em um cookie AMCV no navegador. O cookie AMCV é gravado no domínio atual (SiteB.com).
14. O código da página é executado e os beacons da solução do Adobe são acionados.

