---
title: "O token de propriedade da página não é identificado pelo VEC do Target"
description: Descrição
solution: Target
product: Target
applies-to: "Target"
keywords: "KCS, token de propriedade, página, não identificado, VEC do Target, Adobe Target, at_property, window.targetPageParams function"
resolution: Resolution
internal-notes: null
bug: true
article-created-by: Jim Menn
article-created-date: "9/27/2022 4:08:29 AM"
article-published-by: Jim Menn
article-published-date: "9/27/2022 6:32:36 AM"
version-number: 3
article-number: KA-15576
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=32246c07-1a3e-ed11-9db1-0022480866ad"
source-git-commit: 22f4625b33a00edc1424fe0e944b81212b4a0b1f
workflow-type: tm+mt
source-wordcount: '392'
ht-degree: 0%

---

# O token de propriedade da página não é identificado pelo VEC do Target

## Descrição


<b>Ambiente</b>
Adobe Target

<b>Problema</b>
O VEC do Target não pode reconhecer o token de propriedade da página corretamente.

O VEC exibe mensagem de aviso *Nenhum token de propriedade encontrado nesta página* ao criar a atividade.

<b>Causa</b>
<b>Como `at_property` usado durante &quot;criação&quot; e &quot;delivery&quot;?</b>

<u>Criação</u>: Quando um cliente carrega sua página/SPA no VEC, o VEC verifica a página para encontrar a `window.targetPageParams` .
Se encontrar esta função, ela a executará e tentará extrair a variável `at_property` e com base nesse valor, determine o espaço de trabalho para essa propriedade.
Se o VEC não conseguir localizar essa função ou essa função estiver ausente, o VEC assumirá o padrão do espaço de trabalho padrão.

<u>Delivery</u>: Durante o delivery, a borda do Target não considera onde a variável `at_property` está vindo de. Desde que o valor da propriedade seja passado na solicitação, ele funcionará corretamente.

<u>Como funciona no Launch?</u>
Com esses dois modos de operação descritos, é necessário explicar o que acontece no Launch.
No Launch, os clientes podem adicionar parâmetros às ações do Launch da maneira que desejarem, portanto, normalmente `at_property` é passado como parâmetro para `Fire global mbox request`.
Isso funciona perfeitamente para entrega, no entanto, ao carregar o site no VEC, já que não há `window.targetPageParams`, o VEC não pode escolher o espaço de trabalho correto.


## Resolução


<b>Solução alternativa</b>
Uma maneira de contornar esse problema e garantir que o VEC funcione conforme o esperado é solicitar que os clientes criem uma ação de código personalizado do Launch que defina a variável `window.targetPageParams` com `at_property`.

O cliente precisaria verificar se essa ação seria executada antes de carregar a biblioteca do Target ou disparar uma solicitação global de mbox.

Uma alternativa seria ajustar o VEC para que haja integração nativa entre o VEC e o Adobe Launch, mas isso precisaria de escopo adequado e levará mais tempo para implementar.

<u>Etapas de solução alternativa</u>:

1. Crie uma ação de código personalizado do Launch que define a variável `window.targetPageParams` com `at_property`.


```
window.targetPageParams = function() {return {"at_property" : "%atproperty%"}; }
```


2. Além disso, certifique-se de que essa ação seja executada antes de carregar a biblioteca do Target ou disparar uma solicitação de mbox global.

As etapas acima devem garantir que o VEC reconheça a propriedade corretamente ao criar a atividade.

![](http://omniture.custhelp.com/ci/inlineImage/get/3018176/a5a902ecd7ac849bb5bf0fa7e22e14e7)
