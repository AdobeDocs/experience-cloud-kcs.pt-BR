---
title: "Como gerar um Modelo de Dados ou um Dicionário de Dados"
description: Descrição
solution: Campaign
product: Campaign
applies-to: "Campaign Classic"
keywords: "KCS, Classic, ACC, Modelo de dados, Dicionário de dados, Como"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Jim Menn
article-created-date: "3/24/2023 1:58:16 AM"
article-published-by: Jim Menn
article-published-date: "3/24/2023 2:15:43 AM"
version-number: 5
article-number: KA-17519
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=42e0f551-e7c9-ed11-b597-6045bd0061cb"
source-git-commit: ac666665ccb1549a78e0d30d349badb50dd29dc9
workflow-type: tm+mt
source-wordcount: '656'
ht-degree: 0%

---

# Como gerar um modelo de dados ou um dicionário de dados

## Descrição {#description}

<b>Ambiente</b><br><br>Campaign Classic v7<br><br> <br><br><br><b>Problema/Sintomas</b>
Este documento mostra duas maneiras de gerar um modelo de dados ou um dicionário de dados do seu banco de dados Adobe Campaign.


## Resolução {#resolution}


O Adobe Campaign contém centenas de tabelas. Este documento apresenta duas maneiras diferentes de gerar a documentação do schema:

Ao gerar um documento Open Office (legível no Microsoft Word) ou Gerando uma página da Web HTML.
<br>Método 1: Criação de um documento do OpenOffice<br> 
Na Adobe Campaign *datakit\nms\fra\package\optional* diretory, há um pacote chamado <b>dbbBuilder.xml</b>. Esse arquivo de pacote contém uma entidade JavaScript que gera um documento do Open Office detalhando o schema do banco de dados da instância do Adobe Campaign.
<br> 
<b>Criar um arquivo JavaScript</b>
<br> 
Usando a visualização do explorador do console de campanha, escreva um utilitário JavaScript simples em códigos JavaScript de configuração de administração, como no exemplo abaixo.

Altere o valor strOutputFile para adicionar o diretório de destino onde deseja criar o documento Open Office. Por exemplo: /tmp/database-description.odt.
<br> 
*Exemplo de arquivo: cus:build-dbd.js*


```
/* * build-dbd.js/ var 
    strXslt = "nl:dbdToOdt.xsl" 
    var strTemplate = installDirectory( "datakit/nl/dbd-template.odt" ) 
    var strOutputFile = "database-description.odt" 
    var sql = xtk.sqlSchema.create() sql.Generate() 
    var strDbXml = db = sql.toXML().toXMLString() 
    var strOdt = applyXsl(strXslt, strDbXml) 
    strOdt = strOdt.replace(/\?xml .*\?\r?\n/, '\r\n' ) 
    var mbContent = new MemoryBuffer mbContent.fromString(strOdt, "utf-8" ) 
    var zip = new ZipFile(strTemplate) 
    zip.open() zip.setEntry( "content.xml" , mbContent) zip.save(strOutputFile)
```

<br> <br> 
<b>Importar dbdBuilder.xml</b>
<br> 
O pacote dbdBuilder.xml pode ser importado executando o seguinte comando no diretório em que o pacote está armazenado. Substitua instance_name pelo nome real da instância do Adobe Campaign.

`nlserver package - import :dbdBuilder.xml -instance:instance_name`
<br> 
*Exemplo de importação de pacote para Debian*


```
neolane@debian: /nl6/datakit/nms/fra/package/optional $ cd 
    /nl6/datakit/nms/fra/package/optionalneolane@debian:/nl6/datakit/nms/fra/package/optional$ 
    nlserverpackage -import:dbdBuilder.xml 
    -instance:10:46:09 
    Application serverfor Adobe Campaign Version 6.1.1(build 8537) of 04/16/201410:46:09 
    Starting 1 connection(s) on pool'default vmcloud'(PostgreSQL, server='localhost', 
    login='user:password')10:46:09 Importing package'/tmp/dbdBuilder.xml'...10:46:11 
    Enumerating thefile entities...10:46:11 
    Writing entitiesin the database...10:46:11 
    Saving entities oftype 'xtk:xslt'...10:46:12 
    Saving entities oftype 'xtk:javascript'...10:46:12 
    Installation of packages successful.
```


Exemplo de importação de pacote para Windows


```
C: cd "\Program Files (x86)\Adobe\Adobe Campaign v6\bin" 
    C:\Program Files (x86)\Adobe\Adobe Campaign v6\binnlserver.exe 
    package - import : ..\datakit\nms\fra\package\optional\dbdBuilder.xml 
    -instance: 13:52:57 Application server for Adobe Campaign Version 6.1.1 (build 8622) of 01 /19/2015 13:52:57 
    Starting 1 connection(s) on pool 'default ' (PostgreSQL, server= 'localhost' , login= 'user:password' ) 13:52:57
    Importing package 'C:\Program Files (x86)\Adobe\Adobe Campaign v6\bin\..\datakit\nms\fra\package\optional\dbdBuilder.xml'... 
    13:52:59 Enumerating the file entities... 
    13:52:59 Writing entities in the database... 
    13:52:59 Saving entities of type 'xtk:javascript' ... 
    13:52:59 Installation of packages successful.
```

<br> 
<b>Gerar a descrição do banco de dados</b>
<br> 
Para gerar a descrição do banco de dados, você pode executar a entidade JavaScript cus:build-dbd.js com o módulo nlserver usando uma linha de comando, conforme mostrado abaixo:


```
neolane@debian: /tmp $ nlserver javascript -instance: cus:build-dbd.js 05:06:12 
    Application server for Adobe Campaign Version 6.1.1 (build 8537) of 04 /16/2014 
    05:06:12 Starting 1 connection(s) on pool 
    'default vmcloud' (PostgreSQL, server= 'localhost' , login= 'user:vmcloud' ) 
    05:06:12 Executing JavaScript from entity of identifier 'xs:build-dbd.js' ... 
    05:06:12 Generating the database structure... 
    05:06:12 Element '0' unknown (see definition of schema 'Recipient delivery logs (nms:broadLogRcp)'). 
    (iRc=16384) 
    05:06:12 Element '0' unknown (see definition of schema 'Visitor delivery logs (nms:broadLogVisitor)'). 
    (iRc=16384) 05:06:12 Element '0' unknown (see definition of schema 'Recipient delivery logs (nms:broadLogRcp)'). 
    (iRc=16384) 05:06:12 Element '0' unknown (see definition of schema 'Visitor delivery logs (nms:broadLogVisitor)'). 
    (iRc=16384) 05:06:13 Generating the ODT XML... 05:06:14 Saving the zip file ... 
    05:06:14 File saved as 'database-description.odt
```

<br> 
Um documento do OpenOffice chamado &#39;database-description.odt&#39; é gerado no diretório especificado em build-dbd.js. Ele contém a descrição das tabelas do Adobe Campaign. Este documento pode ser editado com o Microsoft Word ou OpenOffice e pode ser convertido para o PDF.
![descrição do banco de dados](https://helpx.adobe.com/content/dam/help/en/campaign/kb/generate-data-model/jcr%3acontent/main-pars/image/database-description.gif "descrição do banco de dados")Exemplo de arquivo do modelo de dados<br> 
Este documento mostra o índice de tabelas do banco de dados, os campos e chaves SQL e a lista de links de esquema.
<br> Método 2: Criar uma página da Web usando xsltproc<br> 
Essa abordagem alternativa é baseada na ferramenta de linha de comando xsltproc do Linux. Nesse cenário, você exporta o esquema criando um documento XML e, em seguida, transforma o XML em HTML usando um arquivo XSLT. O arquivo de saída pode ser visualizado em um navegador.

Para este método, você precisa:

- Um ambiente Linux ou Macintosh para executar xsltproc, que é um utilitário de linha de comando Macintosh Mac OS X padrão.
- Os arquivos anexados, database.xsl e styles.xml (consulte attachment.zip).


Observação:

Existe um equivalente do Windows, <b>msxsl.exe</b>, que pode funcionar bem nessa plataforma, <b>mas não foi testado</b>.

Agora <b>msxsl.exe</b> faz parte de <b>Serviços MS Core XML (MSXML)</b>.

O <b>[Serviços MS Core XML](https://www.catalog.update.microsoft.com/Search.aspx?q=Microsoft%20Core%20XML%20Services%20%28MSXML%29%204.0)</b><b>[(MSXML)](https://www.catalog.update.microsoft.com/Search.aspx?q=Microsoft%20Core%20XML%20Services%20%28MSXML%29%204.0)</b> o download pode ser encontrado no Catálogo de atualizações do Microsoft.



DOWNLOAD
[Obter arquivo](https://helpx.adobe.com/content/dam/help/en/campaign/kb/generate-data-model/jcr:content/main-pars/download_123504941/attachments.zip "attachments.zip") <br>database.xsl e styles.xml<br> <br> <br> 
1. Baixe os dois arquivos anexados database.xsl e styles.xml em um diretório de trabalho no Linux ou Mac. Na parte superior do XSL, há duas variáveis que podem ser ajustadas: xsl:variable name=&quot;unicode&quot;false/xsl:variable xsl:variable name=&quot;engine&quot;postgresql/xsl:variable Os valores compatíveis para o mecanismo são: postgresql, mssql e oracle. Defina a variável do mecanismo com o valor que corresponde ao banco de dados da instância de marketing.
2. No Console de Campanha, vá para as definições do Pacote de Gerenciamento de Configuração de Administração e crie um arquivo package.xml que contenha os esquemas de dados (xtk:schema).
3. Exporte o pacote e copie o arquivo para seu diretório de trabalho Linux ou Mac.
4. Processe o arquivo package.xml executando o seguinte comando no diretório de trabalho usando XSLT: *xsltproc database.xsl package.xml database.html*.


O documento gerado não é perfeito:

- Algumas condições de associação em links não podem ser documentadas.
- Quando uma enumeração é referenciada em um schema, mas definida em outro schema que não está no pacote, a enumeração não é documentada.

