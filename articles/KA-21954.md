---
title: "Como redirecionar para página de logon personalizada em caso de falha AEM fluxo do OAuth"
description: Descrição
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS, AEM, fluxo OAuth, página de logon personalizada"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Amol Mahajan
article-created-date: "5/8/2023 10:45:03 AM"
article-published-by: Amol Mahajan
article-published-date: "5/8/2023 10:55:58 AM"
version-number: 3
article-number: KA-21954
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=e93f925e-8ded-ed11-8849-6045bd006295"
source-git-commit: 087c7e88a0d5138ecdc1c4548d2265a7f8dc18c5
workflow-type: tm+mt
source-wordcount: '277'
ht-degree: 5%

---

# Como redirecionar para página de logon personalizada em caso de falha AEM fluxo do OAuth

## Descrição {#description}

<b>Ambiente</b>
Experience Manager


<b>Problema/Sintomas</b>
Como redirecionar para a página de logon personalizada em um ambiente de publicação do Adobe Experience Manager (AEM) no caso de falha de fluxo AEM Autorização aberta (OAuth)?


## Resolução {#resolution}


No caso do fluxo SAML (Security Assertion Markup Language)/OAuth, se houver um erro no fluxo de autenticação de AEM, o sistema redirecionará para a página de logon padrão Pronto para uso (OOTB) AEM.

Portanto, é necessário redirecionar os usuários para a página de logon personalizada do SAML/OAuth IDP. Siga as etapas abaixo:

1. Copiar este caminho de nó */libs/granite/core/content/login* para */apps/granite/core/content/login1* como abaixo.![](assets/704db5a9-53eb-ed11-a7c6-6045bd006e5a.png)
2. Alterar o tipo de recurso de */apps/granite/core/content/login1* para <b>testservice</b>, conforme mostrado abaixo:![](assets/25e0ebb5-ede4-ed11-a7c7-6045bd006a22.png)
3. Crie um `rep:policy` nó em login1 com <b>permitir filho</b>, conforme mostrado abaixo:![](assets/cc0347ce-ede4-ed11-a7c7-6045bd006a22.png)
4. Crie um <b>testservice</b> pasta em <b>/apps</b> e adicionar <b>sling:resourceType</b> com <b>testservice</b> e criar um arquivo JSP chamado <b>testservice.jsp</b>, conforme mostrado abaixo: (Observação: No caso de fluxo OAuth, certifique-se de anexar */j_security_check?configid=`<` configuração do oauth respectivo`>`* para o caminho de redirecionamento seguro no <b>JSP</b> abaixo)![](assets/aec657e1-ede4-ed11-a7c7-6045bd006a22.png)
5. Abra a configuração do OSGI <b>Manipulador de autenticação do seletor de logon do Adobe Granite</b> e altere a Página de logon padrão para */apps/granite/core/content/login1* e personalize a `auth.loginselector.mappings` propriedade para apontar para minha página de logon sobreposta para seu caminho seguro. Consulte abaixo:![](assets/b45869f6-ede4-ed11-a7c7-6045bd006a22.png)
6. Abra a configuração do OSGI <b>Serviço de autenticação do Apache Sling</b> e adicionar *-/apps/granite/core/content/login1* e *-/apps/testservice* para `sling.auth.requirements` lista. Consulte abaixo:![](assets/494fad08-eee4-ed11-a7c7-6045bd006a22.png)

