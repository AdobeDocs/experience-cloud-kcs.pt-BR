---
title: "O campo estendido não pode ser acessado do código JavaScript em execução no MTA"
description: Descrição
solution: Campaign
product: Campaign
applies-to: "Campaign Classic"
keywords: "KCS"
resolution: Resolution
internal-notes: "Ticket = TK203929, JIRA = https://jira.corp.adobe.com/browse/NEO-20460, https://jira.corp.adobe.com/browse/NEO-20648"
bug: false
article-created-by: Tanay Sharma .
article-created-date: "9/27/2022 9:15:06 AM"
article-published-by: Tanay Sharma .
article-published-date: "9/27/2022 9:35:23 AM"
version-number: 3
article-number: KA-15251
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=4e74a4dc-443e-ed11-9db1-002248086735"
source-git-commit: b7b1d748986178b5f9f04b9d0fa094dbe782cb44
workflow-type: tm+mt
source-wordcount: '217'
ht-degree: 1%

---

# O campo estendido não pode ser acessado do código JavaScript em execução no MTA

## Descrição

<b>Ambiente</b>
Campaign Classic


<b>Problema/Sintomas</b>
Os usuários estão recebendo o erro *atributo &quot;weChatToken&quot; desconhecido* quando:

- Eles estão usando a API do WeChat com um conector personalizado e estenderam o schema da conta externa para adicionar alguns parâmetros usados pela variável *API do WeChat*, como uma coluna de token de sessão, nome de usuário, etc.
- Ao usar `queryDef` em uma atividade JS em um workflow, é possível extrair dados das novas colunas. No entanto, quando eles estiverem usando esse conector para acionar um delivery, a variável `queryDef` não consegue localizar as novas colunas.




Isso significa que, quando o MTA está executando esse script, ele não pode consultar colunas recém-criadas. Mas o mesmo script, quando usado em um workflow, é capaz de extrair/enviar dados. Ao consultar uma coluna OOTB nesse conector, podemos extrair dados. O único problema é vir com colunas recém-criadas.


## Resolução




Adobe<b> </b>A engenharia confirmou que o Campaign não está suportando a funcionalidade do MTA consultando novas colunas usando `querydef` .



Uma solicitação de Aprimoramento para adicionar esse recurso à Campanha foi rejeitada, pois essa funcionalidade pode levar a sérios problemas de simultaneidade entre emails, SMS, push e prioridades de API personalizadas no MTA.
